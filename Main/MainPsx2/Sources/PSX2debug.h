/*$T PSX2debug.h GC! 1.088 08/08/00 09:11:08 */


/*$6
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 */


#ifndef __DEBUG_H__
#define __DEBUG_H__

#include "BASsys.h"
#include "BAStypes.h"

#ifdef __cplusplus
extern "C"
{
#endif

/*
 =======================================================================================================================
 =======================================================================================================================
 */
_inline_ LONG ReadLong(char *addr)
{
	register LONG	tmp;

	asm	__volatile__ ("
		lwr	tmp, 0(addr)
		lwl tmp, 3(addr)
		");

	return tmp;
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
_inline_ float ReadFloat(char *_from)
{
	/*~~~~~~~~~~~*/
	float	ffloat;
	/*~~~~~~~~~~~*/
	((char *) &ffloat)[0] = _from[0];
	((char *) &ffloat)[1] = _from[1];
	((char *) &ffloat)[2] = _from[2];
	((char *) &ffloat)[3] = _from[3];
	return ffloat;
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
_inline_ void WriteLong(char *_to, LONG _value)
{
	_to[0] = ((char *) &_value)[0];
	_to[1] = ((char *) &_value)[1];
	_to[2] = ((char *) &_value)[2];
	_to[3] = ((char *) &_value)[3];
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
_inline_ short ReadShort(char *_from)
{
	/*~~~~~~~~~~~*/
	short	lshort;
	/*~~~~~~~~~~~*/
	((char *) &lshort)[0] = _from[0];
	((char *) &lshort)[1] = _from[1];
	return lshort;
}

/*$4
 ***********************************************************************************************************************
    Debug Console
 ***********************************************************************************************************************
 */

void	DebugConsoleInit(void);
void	DebugConsolePrint(char *);
void	DebugConsoleDraw(void);

/*$4
 ***********************************************************************************************************************
    Debug Test
 ***********************************************************************************************************************
 */

#ifdef __CW__
void	DebugTestCompiler(void);
#endif
#ifdef __cplusplus
}
#endif
#endif
