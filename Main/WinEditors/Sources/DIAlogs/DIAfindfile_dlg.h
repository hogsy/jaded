/*
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 */

#pragma once

#ifdef ACTIVE_EDITORS

#include "DIAlogs/DIAbase.h"
#include "BIGfiles/BIGdefs.h"

/*$4
 ***************************************************************************************************
 ***************************************************************************************************
 */

class   EBRO_cl_Frame;

class EDIA_cl_FindFileDialog : public EDIA_cl_BaseDialog
{
/*$2
 ---------------------------------------------------------------------------------------------------
    CONSTRUCT.
 ---------------------------------------------------------------------------------------------------
 */

public:
    EDIA_cl_FindFileDialog(void);

/*$2
 ---------------------------------------------------------------------------------------------------
    ATTRIBUTES.
 ---------------------------------------------------------------------------------------------------
 */

public:
    EBRO_cl_Frame   *mpo_Browser;
    CString         mo_Name;
    int             mi_WholeWord;
    int             mi_MatchCase;
    int             mi_ForFolder;
    int             mi_ForFile;
    BIG_INDEX       mul_Dir;
    BIG_INDEX       mul_File;
    BOOL            mb_FindDir;
	BOOL			mb_FindInFiles;

/*$2
 ---------------------------------------------------------------------------------------------------
    FUNCTIONS.
 ---------------------------------------------------------------------------------------------------
 */

public:
    BOOL    MatchWord1(char *, BIG_INDEX, char *, BOOL);
    BOOL    MatchWord(char *, BOOL);
    BOOL    RecurseFind(BIG_INDEX, int);
    void    FindNext(void);
	void	SearchInFile(char *, BIG_INDEX);
	void	FindFile(BIG_INDEX);

/*$2
 ---------------------------------------------------------------------------------------------------
    OVERWRITE.
 ---------------------------------------------------------------------------------------------------
 */

public:
    void    DoDataExchange(CDataExchange *);

/*$2
 ---------------------------------------------------------------------------------------------------
    MESSAGE MAP.
 ---------------------------------------------------------------------------------------------------
 */

public:
    afx_msg void    OnFind(void);
    afx_msg void    OnFindNext(void);
	afx_msg void    OnFindFiles(void);
    DECLARE_MESSAGE_MAP()
};

/*$4
 ***************************************************************************************************
 ***************************************************************************************************
 */

extern EDIA_cl_FindFileDialog   go_FindFileDialog;
#endif /* ACTIVE_EDITORS */
