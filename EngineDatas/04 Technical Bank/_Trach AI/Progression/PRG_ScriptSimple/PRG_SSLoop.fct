message msg
int    ti_continue

ti_continue = vrai
while(ti_continue)
{
 	// Fin du script
 	if(!AI_TriggerIsValid(script[i_cur]))
	{
		AI_TrackCurChangeNow("PRG_ScriptFin")
 	}
 
 	msg = AI_TriggerGetMsg(script[i_cur])
 	msg.msg_sender = OBJ_Me()
 	AI_TriggerSetMsg(script[i_cur], msg)
 	
#ifndef _FINAL_
	if(@get_global DEBUG_SCRIPT)
	{
		if(i_break)
		{
			@get_global DEBUG_TCINE = faux
		}
		else
		{
			@get_global DEBUG_TCINE = vrai
			DBG_TraceString("######## ")
			DBG_TraceObject(OBJ_Me())
			DBG_TraceString("  :  commande  :  ")
			DBG_TraceInt(i_cur)
			DBG_TraceString("  :  ")
		}
	}
#endif	

 	if(!call_trigger(script[i_cur])) 
 	{
  		ti_continue = faux
  		i_break = vrai
  	}
 	else
 	{
  		i_break = faux
  		i_cur++
	 	if(AI_TriggerIsValid(script[i_cur]))
	 	{
		 	msg = AI_TriggerGetMsg(script[i_cur])
		 	msg.msg_int5 = 0	// int5 représente, si 0, le premier appel
		 	AI_TriggerSetMsg(script[i_cur], msg)
		 }
	 }
	 
#ifndef _FINAL_
	@get_global DEBUG_TCINE = faux
#endif
}

