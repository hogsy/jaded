object	to_obj
int			i

time_debut = TIME_Get()
if(des_i_chaloupe_jack)
{
	des_f_inertie_rot = 0.5
	
	f_time_init = TIME_Get()
	@des_obj_text GFX_AddSorted( 17, 9 )
	@des_obj_text GFX_FlagSet( 9, 0, 1)
	@des_obj_text GFX_FlagSet( 9, 2, 1)
	meta ( !OBJ_TextRequest(0,0) ) {}
	
	@des_obj_text OBJ_TextSet( 0, des_t_cine[19])
	@des_obj_text OBJ_TextPivotSet( 0, cvector(0.5,0.8,0))
	@des_obj_text OBJ_TextFlagSet( 0, 17 )
	@des_obj_text OBJ_TextSizeSet(0, 0, -1, cvector(-1,0,0))
	@des_obj_text OBJ_TextColorSet(0, 0, -1, 0x00000000)
	@des_obj_text OBJ_TextAlign(0, 0, -1, 0)	
}

i_cpt_descend = 0
if(des_i_chaloupe_jack && !no_cine) 
{
	LIBGFX_Fade(31, 0xff000000, 0x00000000, 4.0, 4.0, 5.0, 0.0, 0.0, 11)
	@"univ" MENU_f_LockedDuring = 5.0
}

TIME_Wait(0.1)
BV_MinSet(cvector(-10 * des_i_size, -10* des_i_size, -10* des_i_size))
BV_MaxSet(cvector(10* des_i_size, 10* des_i_size, 10* des_i_size))

OBJ_FlagsIdentitySet(OBJ_C_IdentityFlag_DesignStruct, 0)
OBJ_Me().des_float1 = 0.2

if(des_i_chaloupe_jack)
{
	to_obj = LIGHT_FogGet()
	@to_obj LIGHT_NearFarSet(5, 50)
	
	@get_camera OBJ_SightGeneralSet(OBJ_SightGet(), Cv_VerticalVector)
}

if(des_i_chaloupe_jack)
{
	WTR_SetF(Ci_WTR_Waves_Height, des_f_default_wave)
}

for(i = 0; i < 4; i++)
{
	if(!des_o_marins[i]) break
	to_obj = des_o_marins[i]
	@to_obj OBJ_CapaSet(OBJ_Capa_2, 0) // Pas d'IK
	@get_Humain_path to_obj o_private_network = net_move
	if(des_o_mergekit) @to_obj ACT_KitMerge(des_o_mergekit, 255, des_i_max_marge)
}

macro_add_callback_after_cam("Chaloupe_cb_aftercam")
if(net_move) o_cur_wp = WAY_RootGet(net_move)
AI_TrackChange(1, "Chaloupe_Sfx")
AI_TrackChange(2, "Chaloupe_Profile")
AI_TrackChange(3, "Chaloupe_Profile1")

if(no_cine) 
{
	OBJ_CapaSet(OBJ_Capa_1, 0)
	AI_TrackCurChangeNow("Chaloupe_Rotation")
}

i_mode_cine = 1
if(des_i_mode_tomb || des_i_alone)
{
	i_mode_cine = 0
	AI_TrackCurChangeNow("Chaloupe_Rotation")
}
else
{
	f_time_start = 3.0
	if(des_i_chaloupe_jack) 
	{
		AI_TrackChange(4, "Chaloupe_Texte")
		AI_TrackCurChangeNow("Chaloupe_CineD1")
	}
	else
	{
		AI_TrackCurChangeNow("Chaloupe_CineD")
	}
}
