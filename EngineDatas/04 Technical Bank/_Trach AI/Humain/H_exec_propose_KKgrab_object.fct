#include "H_defines.var"

messageid			tmid_LNK

float				tf_dist
float				tf_limite
object			to_SRV
vector			tv_temp

tmid_LNK = pop

if( Proc_KIndigene_Kong_LiaisonStatusGet() )
{
	LNK_ClientPropose(tmid_LNK, 0.001)
	return
}

tv_temp = LNK_GrabPositionGet(tmid_LNK)
tv_temp -= OBJ_PosGet()

DBG_RenderVector(OBJ_PosGet(), tv_temp, color_cyan)

if ( MATH_AbsFloat(tv_temp.z) > 5.0)
{
	LNK_ServeurRefuse(tmid_LNK)
	return
}
tv_temp.z = 0.0
tf_dist = MATH_VecDotProduct(tv_temp, tv_temp)
if (tf_dist < 49.0 && i_etat_courant == ETAT_FPS ) // && ! @o_KONG Proc_KK_Test_Mode(C_Mode_Pillar) )
{
	LNK_ClientPropose(tmid_LNK, 0.001)
	return
}
else
{
	LNK_ServeurRefuse(tmid_LNK)
	return
}


