#include "H_defines.var"

int				ti_i

function		fct_current

for (ti_i = 0; ti_i < 10; ti_i++)
	ao_SRV[ti_i] = LNK_ServeurGet(ti_i, amid_SRV_LIAISON_ID[ti_i], faux, nofunc, nofunc)

for (ti_i = 0; ti_i < 10; ti_i++)
	ao_CL[ti_i] = LNK_ClientGet(ti_i, amid_CL_LIAISON_ID[ti_i], faux, nofunc, nofunc, nofunc)

i_etat_courant = -1
fct_current = AI_TrackGet(Ci_Track_Etat)

if (fct_current)
{
	i_sort_etat = vrai 
	AI_Execute(fct_current)
}

if (fct_last_etat)
{
	i_sort_etat = vrai
	AI_Execute(fct_last_etat)
}

AI_Execute("H_TRACK_tagoff")

if (i_snd_etatlife != -1)
{
	SND_Stop(i_snd_etatlife)
	i_snd_etatlife = -1
}

if (i_snd_etatlifeindex != -1)
{
	SND_Stop(i_snd_etatlifeindex)
	i_snd_etatlifeindex = -1
}

if (i_snd_fire != -1)
{
	SND_Stop(i_snd_fire)
	i_snd_fire = -1
}

if (i_snd_tommygun != -1)
{
	SND_Stop(i_snd_tommygun)
	i_snd_tommygun = -1
	SND_Stop(i_snd_tommygunB)
	i_snd_tommygunB = -1
}

if (i_snd_weaponout != -1)
{
	SND_Stop(i_snd_weaponout)
	i_snd_weaponout = -1
}

H_Weapon_SetOnFire(faux)
H_Weapon_SetPoisonned(faux)


macro_del_callback_after_cam("H_callback_after_cam")
macro_del_callback_after_cam("H_callback_after_blend")

