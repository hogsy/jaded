#include "TP_Defines.var"
procedure_ultra void PLKJ_AddEnemy(object o);
dt=TIME_GetDt()
TP_GetJoy()
if(TP_LimitLiberty())
{
	TP_Fly()
	TP_MoveFlaps()
	TP_MoveKamera()
}
TP_Shoot()
TP_GetMessages()
TP_GenerateEnemies()
TP_WatchEndOfGameplay()
TP_Speech()
TP_Smoke()
TP_Collide()
VIEW_FocaleSet(0,1.5)
@Kamera SND_MicroPosSet()
//AI_CBExecute(CallBack_After_Camera,0)
// set capa 6 when only one projo remains
if(!NbProjo) OBJ_CapaSet(C_TP_Capa_OneLastProjo,0)
else OBJ_CapaSet(0,C_TP_Capa_OneLastProjo)
// Player starts a looping
if(!BlendKam && (IO_ButtonJustPressed(joy_button_L) || IO_ButtonJustPressed(joy_button_L2)))
{
	TP_Looping()
}
// die if Kong does
if(@RefObj OBJ_CapaTest(C_TP_Capa_KongIsDead))
{
	OBJ_Destroy()
}
@RefObj PLKJ_AddEnemy(OBJ_Me())
//#ifndef _FINAL_
//if(ClosestEnemy) Str_DisplayTextOnce("Me!",VIEW_3dWorldTo2d(0,@ClosestEnemy OBJ_PosGet()))
//#endif