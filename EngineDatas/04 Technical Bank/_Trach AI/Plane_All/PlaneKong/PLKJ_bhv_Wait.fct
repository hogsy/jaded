#include "PLKJ_Defines.var"
int i
message msg
object o
dt=TIME_GetDt()
if(ACT_ActionFinished())
{
	i=MATH_RandInt(0,3)
	if(i==1) ACT_ActionSet(C_ACT_Pkg_Colonne_Attack)
	else ACT_ActionSet(C_ACT_Pkg_Colonne_QTour_Avant)
}
while(MSG_GetCount())
{
	msg=MSG_Get()
	if(msg.msg_id==C_EVENT_PAF_Balle)
	{
		o=msg.msg_sender
		if(@o OBJ_FlagsTypeGet()&OBJ_C_TypeFlag_Friend)
		{
			HP--
			if(!HP)
			{
				if(Jack)
				{
					msg.msg_id=C_EVENT_ETAT_MORT
					msg.msg_sender=OBJ_Me()
					@Jack MSG_Send(msg)
				}
				OBJ_Destroy()
			}
		}
	}
}
OBJ_PosSet(InitPosMainGauche-@MainGauche OBJ_PosGet()+OBJ_PosGet())
