#include "PLC_Defines.var"
dt=TIME_GetDt()
// is the propeler is detached from the plane
if(!MATH_VecNull(Speed))
{
	// the speed is the nw sight
	OBJ_SightGeneralSet(Speed,OBJ_BankingGet())
	// move
	OBJ_PosSet(OBJ_PosGet()+(Speed*dt))
	// gravity
	Speed.z-=dt*C_PLC_Gravity
	// propeler rotation goes to 5rad/s
	Acceleration=5-RotSpeed*C_PLC_Propeler_Inertia
}
// else the propeler is attached
else
{
	// the rotation goes to zero
	Acceleration=-RotSpeed*C_PLC_Propeler_Inertia
}
// update rotation speed
RotSpeed+=dt*Acceleration
// rotate
OBJ_RotateLocalY(RotSpeed*dt)
// "woosh" sound
if(TimerWoosh && TimerWoosh<TIME_Get())
{
	TimerWoosh=0
	SND_RequestPlay(7)	// woosh
}