#include "RM_Soucoupe_defines.var"

messageid		tmid_proposition
object			to_serveur
vector			tv_serveur_pos
float				tf_dist

tmid_proposition = pop

to_serveur = MSG_GlobalGetGao(tmid_proposition, SERVEUR)
tv_serveur_pos = @to_serveur OBJ_PosGet()

tf_dist=MATH_VecSquareDistance( tv_serveur_pos, OBJ_PosGet())

if(tf_dist<3.0)
{
	LNK_ClientPropose(tmid_proposition, tf_dist)
	LNK_GrabObjectIdSet(tmid_proposition, C_ID_Prune)
}
else
	LNK_ServeurRefuse(tmid_proposition)

