int			ti_result
int			ti_trigger_nb
int			ti_test_trigger
int			s0
int			s1
int			s2
int			s3

i_flag_paf = faux

if (o_father)
{
	i_flag_can_be_there = @get_PNJ_KSpider_path o_father i_flag_can_be_there
	i_flag_paf = @get_PNJ_KSpider_path o_father i_flag_paf
}
else
{
	ti_test_trigger = vrai
	
	// Tests supplémentaires dans le cas de KAnn
//	if( PNJ_KSpider_vs_KAnn_Mode() )
//	{
		ti_test_trigger = faux
//		if( @o_target KAnn_Interaction_Attack() )
		if( 0 )
		{
			if( @o_target OBJ_SqrDist(o_Kong) > f_dist_Kong_assez_loin )
				ti_test_trigger = vrai
			if( @o_target OBJ_SqrDist(o_Kong) < f_dist_Kong_trop_pres )
				i_flag_can_be_there = faux
		}
		else
			i_flag_can_be_there = faux		// si Ann est grabbé ou autre, disparition !!!!
//	}
	
	if( ti_test_trigger )
	{
//		if( ! PNJ_KSpider_vs_KAnn_Mode() || ! i_flag_can_be_there )
		if( ! i_flag_can_be_there )
		{
			// pour le mode KAnn, les triggers conditionnent uniquement l'activation des spiders
			ti_result = 0
			ti_trigger_nb = 0
			
			if (AI_TriggerIsValid(trigger_activation_1))
			{
				ti_trigger_nb++
				if (call_trigger(trigger_activation_1))
					ti_result++
			}
			
			if (AI_TriggerIsValid(trigger_activation_2))
			{
				ti_trigger_nb++
				if (call_trigger(trigger_activation_2))
					ti_result++
			}
			
			if (ti_result == ti_trigger_nb)
				i_flag_can_be_there = vrai
			else
				i_flag_can_be_there = faux
		}
	}
	
//	Str_DisplayIntOnce(i_flag_can_be_there, cvector(0.5,0.1,0))
//	i_flag_can_be_there = IO_KeyPressed(VK_SPACE)

	if( i_DBG )
	{
		Str_DisplayTextOnce("i_flag_can_be_there = ", cvector(0.1,0.05,0))
		Str_DisplayIntOnce(i_flag_can_be_there, cvector(0.35,0.05,0))
		SCT_GetOf(&s0,&s1,&s2,&s3)
		Str_DisplayTextOnce("sect 0 = ", cvector(0.1,0.1,0))
		Str_DisplayIntOnce(s0, cvector(0.2,0.1,0))
		Str_DisplayTextOnce("sect 1 = ", cvector(0.1,0.15,0))
		Str_DisplayIntOnce(s1, cvector(0.2,0.15,0))
		Str_DisplayTextOnce("sect 2 = ", cvector(0.1,0.2,0))
		Str_DisplayIntOnce(s2, cvector(0.2,0.2,0))
		Str_DisplayTextOnce("sect 3 = ", cvector(0.1,0.25,0))
		Str_DisplayIntOnce(s3, cvector(0.2,0.25,0))		
	}
}
