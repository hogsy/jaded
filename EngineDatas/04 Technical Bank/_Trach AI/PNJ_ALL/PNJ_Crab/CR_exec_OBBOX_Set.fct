#include "CR_defines.var"

#define		Cv_patte_obbox_min		cvector(-0.05, -0.05, 0.0)
#define		Cv_patte_obbox_max		cvector(0.1, 0.05, 0.6)

object		to_bone

// PERE (REFERENCE)
@o_bone_pere BV_OBBoxMinSet(cvector(-0.1, -0.1, 0.1))
@o_bone_pere BV_OBBoxMaxSet(cvector(0.1, 0.1, 0.2))
CR_GFX_CBit_Impact_Mur(o_bone_pere)

// CARAPACE (BASSIN)
@o_bone_carapace BV_OBBoxMinSet(cvector(-0.8, -0.6, -0.1))
@o_bone_carapace BV_OBBoxMaxSet(cvector(0.8, 1.5, 0.8))
CR_GFX_CBit_Impact_Mur(o_bone_carapace)

// BOUCHE & YEUX (VULNERABLE)
to_bone = ANI_CanalObjectGet(Crab_Canal_Vulnerable_Devant)
@to_bone BV_OBBoxMinSet(cvector(-0.45, -0.2, -0.3))
@to_bone BV_OBBoxMaxSet(cvector(0.45, 0.7, 0.5))
CR_GFX_CBit_Impact_Sang(to_bone)		// force le sang

// CUL (VULNERABLE)
to_bone = ANI_CanalObjectGet(Crab_Canal_Vulnerable_Derriere)
@to_bone BV_OBBoxMinSet(cvector(-0.4, -0.4, 0.2))
@to_bone BV_OBBoxMaxSet(cvector(0.4, 0.5, 0.8))
CR_GFX_CBit_Impact_Sang(to_bone)		// force le sang

// PINCE DROITE (BASSE)
to_bone = ANI_CanalObjectGet(Crab_Canal_PinceD3)
@to_bone BV_OBBoxMinSet(cvector(-0.1, -0.1, -0.1))
@to_bone BV_OBBoxMaxSet(cvector(0.1, 0.2, 0.6))
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PinceD2)
@to_bone BV_OBBoxMinSet(cvector(-0.1, -0.1, -0.1))
@to_bone BV_OBBoxMaxSet(cvector(0.1, 0.2, 0.6))
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PinceD1)
@to_bone BV_OBBoxMinSet(cvector(-0.1, -0.2, -0.1))
@to_bone BV_OBBoxMaxSet(cvector(0.1, 0.1, 0.6))
CR_GFX_CBit_Impact_Mur(to_bone)
@o_bone_pinceD BV_OBBoxMinSet(cvector(-0.1, -0.1, -0.2))
@o_bone_pinceD BV_OBBoxMaxSet(cvector(0.1, 0.3, 0.6))
CR_GFX_CBit_Impact_Mur(o_bone_pinceD)

// PINCE GAUCHE (BASSE)
to_bone = ANI_CanalObjectGet(Crab_Canal_PinceG3)
@to_bone BV_OBBoxMinSet(cvector(-0.1, -0.1, -0.1))
@to_bone BV_OBBoxMaxSet(cvector(0.1, 0.2, 0.6))
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PinceG2)
@to_bone BV_OBBoxMinSet(cvector(-0.1, -0.1, -0.1))
@to_bone BV_OBBoxMaxSet(cvector(0.1, 0.2, 0.6))
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PinceG1)
@to_bone BV_OBBoxMinSet(cvector(-0.1, -0.2 , -0.1))
@to_bone BV_OBBoxMaxSet(cvector(0.1, 0.1, 0.6))
CR_GFX_CBit_Impact_Mur(to_bone)
@o_bone_pinceG BV_OBBoxMinSet(cvector(-0.1, -0.1, -0.2))
@o_bone_pinceG BV_OBBoxMaxSet(cvector(0.1, 0.3, 0.6))
CR_GFX_CBit_Impact_Mur(o_bone_pinceG)

// PATTE DROITE (HAUTE)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteD2)
@to_bone BV_OBBoxMinSet(cvector(-0.1, -0.1, 0.0))
@to_bone BV_OBBoxMaxSet(cvector(0.0, 0.1, 0.8))
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteD1)
@to_bone BV_OBBoxMinSet(cvector(-0.1, -0.1, 0.0))
@to_bone BV_OBBoxMaxSet(cvector(0.1, 0.1, 0.8))
CR_GFX_CBit_Impact_Mur(to_bone)
@o_bone_patteD BV_OBBoxMinSet(cvector(-0.1, -0.1, -0.4))
@o_bone_patteD BV_OBBoxMaxSet(cvector(0.1, 0.2, 0.3))
CR_GFX_CBit_Impact_Mur(o_bone_patteD)

// PATTE GAUCHE (HAUTE)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteG2)
@to_bone BV_OBBoxMinSet(cvector(-0.1, -0.1, 0.0))
@to_bone BV_OBBoxMaxSet(cvector(0.0, 0.1, 0.8))
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteG1)
@to_bone BV_OBBoxMinSet(cvector(-0.1, -0.1, 0.0))
@to_bone BV_OBBoxMaxSet(cvector(0.1, 0.1, 0.8))
CR_GFX_CBit_Impact_Mur(to_bone)
@o_bone_patteG BV_OBBoxMinSet(cvector(-0.1, -0.1, -0.4))
@o_bone_patteG BV_OBBoxMaxSet(cvector(0.1, 0.2, 0.3))
CR_GFX_CBit_Impact_Mur(o_bone_patteG)

// tous les autres bones (les petites pattes) -----------------------------------

to_bone = ANI_CanalObjectGet(Crab_Canal_PatteMarcheD11)
@to_bone BV_OBBoxMinSet(Cv_patte_obbox_min)
@to_bone BV_OBBoxMaxSet(Cv_patte_obbox_max)
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteMarcheD12)
@to_bone BV_OBBoxMinSet(Cv_patte_obbox_min)
@to_bone BV_OBBoxMaxSet(Cv_patte_obbox_max)
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteMarcheD21)
@to_bone BV_OBBoxMinSet(Cv_patte_obbox_min)
@to_bone BV_OBBoxMaxSet(Cv_patte_obbox_max)
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteMarcheD22)
@to_bone BV_OBBoxMinSet(Cv_patte_obbox_min)
@to_bone BV_OBBoxMaxSet(Cv_patte_obbox_max)
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteMarcheD31)
@to_bone BV_OBBoxMinSet(Cv_patte_obbox_min)
@to_bone BV_OBBoxMaxSet(Cv_patte_obbox_max)
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteMarcheD32)
@to_bone BV_OBBoxMinSet(Cv_patte_obbox_min)
@to_bone BV_OBBoxMaxSet(Cv_patte_obbox_max)
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteMarcheD33)
@to_bone OBJ_FlagsIdentitySet(none, OBJ_C_IdentityFlag_OBBox)
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteMarcheG11)
@to_bone BV_OBBoxMinSet(Cv_patte_obbox_min)
@to_bone BV_OBBoxMaxSet(Cv_patte_obbox_max)
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteMarcheG12)
@to_bone BV_OBBoxMinSet(Cv_patte_obbox_min)
@to_bone BV_OBBoxMaxSet(Cv_patte_obbox_max)
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteMarcheG21)
@to_bone BV_OBBoxMinSet(Cv_patte_obbox_min)
@to_bone BV_OBBoxMaxSet(Cv_patte_obbox_max)
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteMarcheG22)
@to_bone BV_OBBoxMinSet(Cv_patte_obbox_min)
@to_bone BV_OBBoxMaxSet(Cv_patte_obbox_max)
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteMarcheG31)
@to_bone BV_OBBoxMinSet(Cv_patte_obbox_min)
@to_bone BV_OBBoxMaxSet(Cv_patte_obbox_max)
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteMarcheG32)
@to_bone BV_OBBoxMinSet(Cv_patte_obbox_min)
@to_bone BV_OBBoxMaxSet(Cv_patte_obbox_max)
CR_GFX_CBit_Impact_Mur(to_bone)
to_bone = ANI_CanalObjectGet(Crab_Canal_PatteMarcheG33)
@to_bone OBJ_FlagsIdentitySet(none, OBJ_C_IdentityFlag_OBBox)
CR_GFX_CBit_Impact_Mur(to_bone)

//====================================================================
// SPG2
//====================================================================

//to_gao = ANI_CanalObjectGet(Crab_Canal_Carapace)
//@to_gao SPG2_FloatSet(0, 5, 0.8)
//to_gao = ANI_CanalObjectGet(Crab_Canal_PinceD1)
//@to_gao SPG2_FloatSet(0, 5, 1.5)
//to_gao = ANI_CanalObjectGet(Crab_Canal_PinceG1)
//@to_gao SPG2_FloatSet(0, 5, 1.5)
//to_gao = ANI_CanalObjectGet(Crab_Canal_PinceD2)
//@to_gao SPG2_FloatSet(0, 5, 0.5)
//to_gao = ANI_CanalObjectGet(Crab_Canal_PinceG2)
//@to_gao SPG2_FloatSet(0, 5, 0.5)
//to_gao = ANI_CanalObjectGet(Crab_Canal_PinceD3)
//@to_gao SPG2_FloatSet(0, 5, 0.65)
//to_gao = ANI_CanalObjectGet(Crab_Canal_PinceG3)
//@to_gao SPG2_FloatSet(0, 5, 0.65)
//
//