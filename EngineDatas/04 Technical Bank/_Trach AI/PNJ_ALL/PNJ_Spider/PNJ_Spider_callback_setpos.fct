vector	tv_pos
vector	tv_new_sight
vector	tv_new_banking
vector	tv_speed

object	to_camera

// JE SNAP JACK	
to_camera = @get_global o_camera

OBJ_PosSet(@to_camera OBJ_PosGet() + @to_camera MATH_VecLocalToGlobal(v_snap_pos))
OBJ_BankingGeneralSet(@to_camera MATH_VecLocalToGlobal(v_snap_sight), @to_camera MATH_VecLocalToGlobal(v_snap_banking))

tv_speed = OBJ_PosGet()

f_rot_angle += f_rot_speed * TIME_GetDt()
if (f_rot_angle > Cf_2Pi)
	f_rot_angle -= Cf_2Pi

OBJ_RotateLocalZ(MATH_Sin(f_rot_angle) * 0.4)

tv_pos = OBJ_PosGet()
tv_pos += OBJ_SightGet() * (TIME_GetDt() * MATH_RandFloat(1.5, 2.5))
OBJ_PosSet(tv_pos)

tv_new_banking = OBJ_PosGet()
tv_new_banking -= @to_camera OBJ_PosGet()
tv_new_banking = MATH_VecInCone(tv_new_banking, @to_camera OBJ_SightGet(), Cf_PiBy4, 0)
MATH_VecSetNormalize(tv_new_banking)

tv_pos = @to_camera OBJ_PosGet()
tv_pos += tv_new_banking * 0.55
OBJ_PosSet(tv_pos)

tv_speed = tv_pos - tv_speed
//tv_speed = OBJ_SightGet()
OBJ_PosSet(tv_pos)
OBJ_BankingGeneralSet(tv_speed, tv_new_banking)


//MATH_VecSetNormalize(tv_new_banking)



//tv_speed = OBJ_PosGet()
//
//f_rot_angle += f_rot_speed * TIME_GetDt()
//if (f_rot_angle > Cf_2Pi)
//	f_rot_angle -= Cf_2Pi
//
//OBJ_RotateLocalZ(MATH_Sin(f_rot_angle) * 0.2)
//
//tv_pos = OBJ_PosGet()
//tv_pos += OBJ_SightGet() * (TIME_GetDt() * MATH_RandFloat(1.5, 2.5))
//OBJ_PosSet(tv_pos)
//
//tv_new_banking = OBJ_PosGet()
//tv_new_banking -= @o_main_actor OBJ_PosGet()
//f_grab_Z = MATH_VecDotProduct(tv_new_banking, @o_main_actor OBJ_BankingGet())
//tv_new_banking -= f_grab_Z * @o_main_actor OBJ_BankingGet()
//tv_new_banking = MATH_VecInCone(tv_new_banking, @o_main_actor OBJ_SightGet(), Cf_PiBy3, 0)
//MATH_VecSetNormalize(tv_new_banking)
//
//f_grab_Z = MATH_Sin(f_rot_angle) * 0.25
//
//tv_pos = tv_new_banking * 0.45
//tv_pos += @o_main_actor OBJ_PosGet()
//tv_pos.z = @to_camera OBJ_PosGet().z
//tv_pos += f_grab_Z * @o_main_actor OBJ_BankingGet()
//
//tv_speed = tv_pos - tv_speed
////tv_speed = OBJ_SightGet()
//OBJ_PosSet(tv_pos)
//OBJ_BankingGeneralSet(tv_speed, tv_new_banking)

v_snap_sight = @to_camera MATH_VecGlobalToLocal(OBJ_SightGet())
v_snap_banking = @to_camera MATH_VecGlobalToLocal(OBJ_BankingGet())
v_snap_pos = @to_camera MATH_VecGlobalToLocal(OBJ_PosGet() - @to_camera OBJ_PosGet())

AI_Execute("PNJ_Spider_After_ETAT")