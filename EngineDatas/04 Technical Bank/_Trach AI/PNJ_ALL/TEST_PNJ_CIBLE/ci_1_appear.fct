#include "ci_defines.var"

i_cur_mode = Ci_mode_apparition
if (i_cur_mode != i_old_mode)
{
	// INIT
	i_old_mode = i_cur_mode

	OBJ_CapaSet(OBJ_Capa_0, none)

	OBJ_FlagInvisibleSet(faux)
	COL_ColMapActivationSet(all, none)

	if (i_duplicate == 2 && !OBJ_FlagsIdentityTest(OBJ_C_IdentityFlag_Generated))
		OBJ_FlagsControlSet(OBJ_C_ControlFlag_RayInsensitive, none)

	// mission, info, bone bone lod min lod max frame min radius
	OBJ_InfoPhotoParamSet( 0, 0, -1, -1, 0.0, 0.0, 0.0, f_snap_radius * f_zoom_init)
	OBJ_InfoPhotoInfoOffsetSet(v_snap_offset)
}

// Apparition
OBJ_PosSet(v_pos_init + (OBJ_BankingGet()*f_delta_H))
f_delta_H = MATH_FloatBlend(f_delta_H, f_zoom_init, 5.0*TIME_GetDt())

if (f_delta_H > f_zoom_init-0.1)
	AI_TrackCurChangeNow("ci_2_wait")