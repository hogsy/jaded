#include "KR_defines.var"

int					ti_rank
messageid		EVT_Visibility_ID
object			EVT_Pere

if (i_flag_visual_check_done)
	return

i_flag_visual_check_done = vrai

ti_rank = -1
for (	EVT_Visibility_ID = MSG_GlobalScan(C_EVENT_TYPE_Visibility, &ti_rank);
		MSG_GlobalIsValid(EVT_Visibility_ID);
		EVT_Visibility_ID = MSG_GlobalScan(C_EVENT_TYPE_Visibility, &ti_rank))
{
	EVT_Pere = EVENT_PereGet(EVT_Visibility_ID)
	if (EVT_Pere != OBJ_Me() )
	{
		if( AI_HaveSameModel(EVT_Pere) )
		{
			ao_budy[i_budy_nb] = EVT_Pere
			i_budy_nb++
		}
	}
}

