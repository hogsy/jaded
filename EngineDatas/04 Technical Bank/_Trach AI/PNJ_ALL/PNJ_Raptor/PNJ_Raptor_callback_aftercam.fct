#include '"PNJ_Raptor_defines.var"

#ifdef SHOW_RASTER
DBG_StartRaster(0, "IA Raptor")
#endif

float		tf_dot_product

vector	tv_temp

f_on_screen_pourcent = VIEW_LIB_Pourcent_On_Screen(COL_ZonePosGet(C_zde_corps), COL_ZoneSizeGet(C_zde_corps), 1.0, 1.0, tv_temp, faux)

if (raptor_type == C_ID_Tyranosaure)
{
	if (i_flag_zoom_smooth)
		f_zoom_smooth_coef += MATH_FloatMin(3.0 - f_zoom_smooth_coef, 6.0 * TIME_GetDt())
	else
		f_zoom_smooth_coef -= MATH_FloatMin(f_zoom_smooth_coef, 6.0 * TIME_GetDt())

	if (f_zoom_smooth_coef)
	{
		tf_dot_product = MATH_FloatMax(MATH_VecDotProduct(@ao_head_bones[0] OBJ_BankingGet(), -@o_camera OBJ_SightGet()), 0.0)
//		AE_ZoomSmoothCenter(f_zoom_smooth_coef * tf_dot_product, @ao_head_bones[0] OBJ_PosGet() - @o_camera OBJ_PosGet() )
		@get_global Proc_AE_ZoomSmoothCenterSet( f_zoom_smooth_coef * tf_dot_product, @ao_head_bones[0] OBJ_PosGet() - @o_camera OBJ_PosGet() )
	}
}

#ifdef SHOW_RASTER
DBG_StopRaster(0)
#endif

