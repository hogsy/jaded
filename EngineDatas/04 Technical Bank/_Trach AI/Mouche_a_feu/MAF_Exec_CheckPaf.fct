#include 		"MAF_Defines.var"

//=============================================================================
// DETECTION DES PAFS
//
// L'idée est d'augmenter le niveau d'agressivité des mouches si on tire sur le generateur
//=============================================================================


// Events Pafs
int					ti_paf_rank				// Rang du paf dans la liste
messageid		tmid_paf_ID				// ID du paf
message		tmsg_paf_filter			// Message filtre pour la lecture de la liste
#ifdef DKKD
// Pafs reçus
int					ti_cur_paf_canal		// localisation du paf
int					ti_cur_paf_force		// dégats du paf courant
vector			tv_cur_paf_dir			// recul du paf
object			to_cur_paf_pere		// père du paf
int					ti_best_paf_force		// dégats du + gros paf

// Event visilibity du père du paf
//int					ti_vis_rank				// Rang du paf dans la liste
messageid		tmid_vis_ID				// ID du paf
message		tmsg_vis_filter			// Message filtre pour la lecture de la liste
#endif

//ti_cur_paf_force = 0
//to_cur_paf_pere = nobody
//tv_cur_paf_dir = Cv_NullVector
//ti_cur_paf_canal = 0

MSG_SetNull( tmsg_paf_filter)
tmsg_paf_filter.msg_gao1 = o_generateur

//ti_paf_rank = -1
for (	tmid_paf_ID = MSG_GlobalSearchIntGao(C_EVENT_TYPE_Paf, &ti_paf_rank, tmsg_paf_filter);
		MSG_GlobalIsValid(tmid_paf_ID);
		tmid_paf_ID = MSG_GlobalSearchIntGao(C_EVENT_TYPE_Paf, &ti_paf_rank, tmsg_paf_filter) )
{
	f_aggressivityMeter = 1.0
	if (f_curTimeBeforeCalm < f_timeBeforeCalm)
		f_curTimeBeforeCalm = f_timeBeforeCalm
//	if (f_curTimeBeforeAggressive > 0.0)
//		f_curTimeBeforeAggressive = 0.0
}

