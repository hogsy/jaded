#include "number2Test_defines.var"

//int i
int ti_control_flag



for(i1=0; i1<NUM_PILLERS; i1++)
{
	
	ti_control_flag = @o_Piller_Peices[i1] ODE_Geti(0)
	ti_control_flag |= 0x20		// Immovable
	//ti_control_flag &= ~0x02 //rigid body(can't be moved)
	@o_Piller_Peices[i1] ODE_Seti(0, ti_control_flag)
	@o_Piller_Peices[i1] OBJ_FlagInactiveSet( vrai)
}

for(i1=0;i1<NUM_SYSTEMS; i1++)
{
	if( o_Particle_Systems[i1] )
	{
		@o_Particle_Systems[i1] OBJ_PagGeneratorFreqSet(1, 0.0)		//set initial frequency to 0
		f_Duration[i1] = 3.5
		f_Start_time[i1] = 0.0
	}	
}

initPos = @o_Piller_Peices[0] OBJ_PosGet()

//callbacks
AI_CBAdd(OBJ_Me(), CallBack_WhenDestroy, "number2Test_callback_when_destroy")

AI_TrackChange(3, "number2Test_ode_active")
AI_TrackCurChangeNow("number2Test_detectpaf") //number2Test_detectpaf  number2Test_explode

