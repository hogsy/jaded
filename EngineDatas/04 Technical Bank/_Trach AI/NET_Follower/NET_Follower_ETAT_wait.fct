#include "NET_Follower_defines.var"

object	to_main_actor

if (i_etat_courant != ETAT_wait)
{
	i_etat_courant = ETAT_wait
	
	f_time_start_etat = 0.0
}
else
{
	f_time_start_etat += TIME_GetDt()
}

if ( ! i_flag_go)
{
	if( @get_global i_Player_is_Kong )
		to_main_actor = AI_MainActorGet(C_ID_Kong)
	else
		to_main_actor = AI_MainActorGet(C_ID_Joueur)
	
	if (o_decl_actor_capa && OBJ_CapaTest(i_decl_capa))
		i_flag_go = vrai
//	else if (OBJ_SqrDist(to_main_actor) < f_decl_distance * f_decl_distance)
//		i_flag_go = vrai
}

if (i_flag_go)
{
	if (!f_decl_delay)
	{
		OBJ_FlagInvisibleSet(faux)
		AI_TrackCurChangeNow("NET_Follower_ETAT_run")
	}

	f_decl_delay -= MATH_FloatMin(f_decl_delay, TIME_GetDt())
}
