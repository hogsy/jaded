#include "PNJ_Pigeon_defines.var"

vector			tv_joy
vector			tv_banking

EVENT_AddEventVision(C_ID_Pigeon, C_EVENT_FILTER_All, OBJ_Me(), Cf_EVENT_Duree_1Trame, OBJ_PosGet(), C_EVENT_Visibility_Full_Mvt, 1.0, 100.0, C_EVENT_CONTEXT_STANDARD, 0, 1.0)

if (o_father == nobody)
	DBG_RenderCircle(v_boot_camp, f_boot_camp_size, Cv_VerticalVector, color_bleu)

if (o_rided_actor)
{
	if ((i_etat_courant == ETAT_PIGEON_AU_SOL) || (f_travel_coef > 1.0))
	{
		v_cur_dir = MATH_VecBlend(v_cur_dir, glob_joyvector_get, 0.5 * TIME_GetDt())
	}
	else
	{		
		tv_joy = glob_joyvector_get_normalized
		f_flying_speed += MATH_AbsFloat(glob_joynorm_get / 50.0)
		tv_banking = OBJ_BankingGet()
		tv_banking = MATH_VecBlend(tv_banking, tv_joy, 3.0 * TIME_GetDt())
		OBJ_BankingGeneralSet(OBJ_SightGet(), tv_banking)
	}
}
