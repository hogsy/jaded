#include "PNJ_Lapin_defines.var"


// SORTIE ETAT ===================================================================
if( i_sort_etat )
{
	i_sort_etat = faux
	return
}

// INITIALISATION ETAT ==============================================================
if( i_etat_courant != ETAT_Lapin_DESTROYED )
{
	i_dernier_etat = i_etat_courant
	i_etat_courant = ETAT_Lapin_DESTROYED
	if( fct_last_etat )
	{
		i_sort_etat = vrai
		AI_Execute(fct_last_etat)
	}
	Lapin_DBG_Trace_String(DBG_Trace_Etat, "DESTROYED")
	fct_previous_etat = fct_last_etat
	fct_main_etat = AI_TrackCurGet()		// MAIN ETAT !!!!
	fct_last_etat = AI_TrackCurGet()
	f_time_start_etat = 0.0
	
	AI_Execute("Lapin_callback_WhenDestroy")
	AI_TrackStop(0)
	AI_TrackStop(1)
	AI_TrackStop(2)
	AI_TrackStop(3)
	AI_TrackStop(4)
	
	OBJ_FlagInactiveSet(vrai)
	OBJ_FlagInvisibleSet(vrai)
}

