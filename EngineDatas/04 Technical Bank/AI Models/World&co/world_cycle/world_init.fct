if(des_o_moon_light && des_o_moon)
{
	v_rel_lune_lgt = @des_o_moon_light OBJ_PosGet() - @des_o_moon OBJ_PosGet()
	v_rel_lune_lgt = @des_o_moon MATH_VecGlobalToLocal(v_rel_lune_lgt)
	//@des_o_moon_light OBJ_HierarchyReset()
}

if(des_o_desactivate) @des_o_desactivate OBJ_FlagInactiveSet(1)

if (des_standard_world_cycle)
{
	if (des_copy_all_but_colors)
	{
		des_i_numplanete = @"World&Co/world_cycle" des_standard_world_cycle des_i_numplanete
		des_o_teleport = @"World&Co/world_cycle" des_standard_world_cycle des_o_teleport
		des_o_env = @"World&Co/world_cycle" des_standard_world_cycle des_o_env
		des_o_sun = @"World&Co/world_cycle" des_standard_world_cycle des_o_sun
		des_o_moon = @"World&Co/world_cycle" des_standard_world_cycle des_o_moon
		des_o_moon_light = @"World&Co/world_cycle" des_standard_world_cycle des_o_moon_light
		des_o_moon_rayon = @"World&Co/world_cycle" des_standard_world_cycle des_o_moon_rayon
		des_o_fog = @"World&Co/world_cycle" des_standard_world_cycle des_o_fog
		des_o_sky = @"World&Co/world_cycle" des_standard_world_cycle des_o_sky
		des_v_center_world = @"World&Co/world_cycle" des_standard_world_cycle des_v_center_world
		des_f_distance = @"World&Co/world_cycle" des_standard_world_cycle des_f_distance
	
		des_f_Z_jour = @"World&Co/world_cycle" des_standard_world_cycle des_f_Z_jour
		des_f_Z_lever = @"World&Co/world_cycle" des_standard_world_cycle des_f_Z_lever
		des_f_Z_aurore = @"World&Co/world_cycle" des_standard_world_cycle des_f_Z_aurore
		des_f_Z_nuit = @"World&Co/world_cycle" des_standard_world_cycle des_f_Z_nuit
	}

	@des_standard_world_cycle OBJ_FlagInactiveSet(vrai)
}

des_o_fog = LIGHT_FogGet()
//// JOUR
//des_ac_jour[0] = 0x00C0C1C1
//des_ac_jour[1] = 0x00C0C1C1
//// COUCHER
//des_ac_coucher[0] = 0x005B68B7
//des_ac_coucher[1] = 0x005B68B7
//// LEVER
//des_ac_lever[0] = 0x00C0C1C1
//des_ac_lever[1] = 0x00C0C1C1
//// NUIT
//des_ac_nuit[0] = 0x00000000
//des_ac_nuit[1] = 0x00000000

@des_o_env OBJ_RotateLocalZ(@"univ" Planetes_CurRotation[des_i_numplanete])
des_o_teleport = get_Kamera
v_normvais = @des_o_teleport OBJ_PosGet() + des_v_center_world
f_firstnorm = MATH_VecNorm(v_normvais)
AI_TrackCurChangeNow("world_cycle_t")