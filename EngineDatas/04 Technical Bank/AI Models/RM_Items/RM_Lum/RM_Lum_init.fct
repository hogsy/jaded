int		ti_SF_DejaRecupere


AI_CBAdd(OBJ_Me(), CallBack_WhenDestroy, "RM_Lum_cb_WhenDestroy")

// SPECIAL FLAGS
if( ! OBJ_FlagsIdentityTest(OBJ_C_IdentityFlag_Generated) )
{
	if( i_SF_NePasSeRejouerSiRecupere )
	{
		i_SF_DejaRecupere = AI_SFDynGet(0, SF_MinById, SF_MaxById)		// Alloc
		SpecialFlag_get(i_SF_DejaRecupere, ti_SF_DejaRecupere)			// Test SF
		if( ti_SF_DejaRecupere)																	// Si SF = 1 alors DESTROY
		{
			OBJ_Destroy()
		}
	}
}

OBJ_ZoomSet(0.5)

if ( i_SFX_Halo == -1)
{
	i_SFX_Halo = GFX_Add(21)
	GFX_FlagSet(i_SFX_Halo, 4, 1)
	GFX_MaterialSet(i_SFX_Halo, get_SFX_light_and_smoke, 0)	
	GFX_Setf(i_SFX_Halo, 21002, 1.0)							// extraction par rapport au point de génération (vers la cam)
	GFX_Seti(i_SFX_Halo, 21103, 1)		
	GFX_Seti(i_SFX_Halo, 21101, 0xFFFF0000)
}



f_blend_rotation = MATH_RandFloat( 5.0, 8.0)
f_blend_rotation *= MATH_FloatSign( MATH_RandFloat( -3.0, 3.0))

AI_CBAdd(OBJ_Me(), CallBack_After_Rec, "RM_Lum_cb_AfterRec")

AI_TrackCurChangeNow("RM_Lum_ETAT_cage")

