#include "Interface_MenuInGame_defs.var"

// Get page parameters
if (!mo_Texte)
	return
if (!IntMIG_SetPageParams())
	return


if (INTMIG_EnterPage_Start)
{
	IntMIG_ResetTexte( mi_PageString, 30 )
	IntMIG_MC_DisplayTexte( 30 )
}
if (INTMIG_LeavePage_Start)
{
	IntMIG_Text_FadeOutMulti( mi_PageString, 3, 0.5 )
}

IntMIG_RestorePageParams()

if ( mi_Exit || mi_ChangePage || mi_Cheat )
	return

if ( joy_valide )
{
	IntMIG_PlaySound( INTMIG_SOUND_CANCEL )
	if (mi_MC_Page == INTMIG_MCPage_GOTO_MemCard)
	{
		mi_MC_Mode = INTMIG_MCMode_ProfileGet
		mi_MC_State = 0
		INTMIG_ChangePage( "IntMIG_Page_Memcard", 0 )
	}
	else
	{
		INTMIG_ChangePage(  "IntMIG_Page_Main" , 1)
	}
	return
}

if ( joy_cancel )
{
	@"univ" MENU_ProfileIndex = -1
	@"univ" MENU_PlayWithoutSaving = 0
	@"univ" PROG_i_MapCur = 0
	@"univ" PROG_i_Map = INTMIG_FIRSTMAPID
	@"univ" PROG_i_ES = -1
	INTMIG_ChangePage(  "IntMIG_Page_StartMain" , 0 )
}
