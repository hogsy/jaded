
#include "GEX_Define.var"

int		ti_loop 



// Demande la Zic FIGHT
if (mus_fight >= 0)
{
	// On me dermande de jouer une Zic
	
	if (!i_play_zic && call_trigger(mus_trigger) )
	{
		i_play_zic = vrai		// Je ne joue pas encore la zic, mon trigger est validé donc je demande maintenant a jouer la Zic
		OBJ_CapaSet(Obj_Capa_Switch, none)
	}

	if (i_play_zic)
		SIG_Send(mus_fight , OBJ_Me())		// Play la Zic.
}

if (i_play_zic)
	f_duree += TIME_GetDt()

switch ( i_mode )
{
	case Ci_Normal :
//		if (@"univ" Cheat_i_Flags & CHEAT_ShowModeNeuneu )
		if (@"univ" Cheat_i_ModeNeuneuExploit)
			STR_CreateText( "Mode NORMAL Running", cvector( 0.573, 0.04, 0), 0)
		if (ProcGEX_Test_Mort(&o_Nmi_ModeNormal[0]))
		{
			// Ok fini... Doit on passer en Exploit ?
			if (!ProcGEX_Test_Exploit())
				AI_TrackCurChangeNow("GEX_End")
		}
		break

	case Ci_NeuNeu :
		if (@"univ" Cheat_i_ModeNeuneuExploit)
//		if (@"univ" Cheat_i_Flags & CHEAT_ShowModeNeuneu )
			STR_CreateText( "Mode NEUNEU Running", cvector( 0.573, 0.04, 0), 0)
			
		if (ProcGEX_Test_Mort(&o_Nmi_ModeNeuNeu[0]))
			AI_TrackCurChangeNow("GEX_End")
		break

	case Ci_Exploit :
//		if (@"univ" Cheat_i_Flags & CHEAT_ShowModeNeuneu )
		if (@"univ" Cheat_i_ModeNeuneuExploit)
			STR_CreateText( "Mode EXPLOIT Running", cvector( 0.573, 0.04, 0), 0)
		if (ProcGEX_Test_Mort(&o_Nmi_ModeExploit[0]))
			AI_TrackCurChangeNow("GEX_End")
		break

}

#ifndef _FINAL_ // =================================== CHEAT ==================

switch (@"univ" Cheat_i_ModeNeuneuExploit)
{
	case 1 :
		STR_CreateText( "Cheat : Mode EXPLOIT Forced", cvector( 0.5, 0.00, 0), 0)
		break
	case 2 :
		STR_CreateText( "Cheat : Mode NORMAL Forced", cvector( 0.5, 0.00, 0), 0)
		break
	case 3 :
		STR_CreateText( "Cheat : Mode NEUNEU Forced", cvector( 0.5, 0.00, 0), 0)
		break
}

#endif // ========================================= CHEAT ======================
