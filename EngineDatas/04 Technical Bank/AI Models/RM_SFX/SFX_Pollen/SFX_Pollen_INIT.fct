#include "SFX_Pollen_VAR.var"

int			ti_cpt1
vector	tv_pos
float 		tf_tmp_scale
vector 	tv_BV_min, tv_BV_max

tv_BV_min = @o_BV_ref BV_MinGet() + (@o_BV_ref OBJ_PosGet() - OBJ_PosGet())
tv_BV_max = @o_BV_ref BV_MaxGet() + (@o_BV_ref OBJ_PosGet() - OBJ_PosGet())

if (i_nb_creatures>NB_CREATURES)
	i_nb_creatures = NB_CREATURES

f_distance *= f_distance
f_attenuation = f_attenuation * 0.1


//---------------------------------------------------------------------------------------------------------------------
//		GENERATION DES WAYPOINTS INITIAUX
//---------------------------------------------------------------------------------------------------------------------
for (ti_cpt1=0; ti_cpt1<i_nb_creatures ; ti_cpt1++)
{
	i_SFX[ti_cpt1] = -1
	v_list_obj[ti_cpt1] = PROC_GEN_WP(@o_BV_ref BV_MinGet(), @o_BV_ref BV_MaxGet())
	v_list_dir_obj[ti_cpt1] = Cv_NullVector
}

//---------------------------------------------------------------------------------------------------------------------
//		GENERATION DES WAYPOINTS DE DESTINATION
//---------------------------------------------------------------------------------------------------------------------
for (ti_cpt1=0; ti_cpt1<i_nb_creatures ; ti_cpt1++)
	v_list_dest_obj[ti_cpt1] = PROC_GEN_WP(tv_BV_min , tv_BV_max)

AI_TrackCurChangeNow("SFX_Pollen_LOOP")