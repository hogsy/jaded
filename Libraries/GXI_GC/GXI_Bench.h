/*$T GXI_bench.h GC! 1.081 11/18/02 10:06:29 */


/*$6
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 */


#ifndef GXI_BENCH_H
#define GXI_BENCH_H

/*$4
 ***********************************************************************************************************************
 ***********************************************************************************************************************
 */

#include "BASe/BASsys.h"
#include "GXI_GC/GXI_init.h"

#ifdef __cplusplus
extern "C"
{
#endif

/*$4
 ***********************************************************************************************************************
 ***********************************************************************************************************************
 */

#define u_int	unsigned int

/*$4
 ***********************************************************************************************************************
 ***********************************************************************************************************************
 */

extern int	Rasters[];
extern int	RastersStarts[];

/*$4
 ***********************************************************************************************************************
 ***********************************************************************************************************************
 */

#ifndef _FINAL_

/*
 =======================================================================================================================
 =======================================================================================================================
 */
_inline_ void GXI_BeginRaster(unsigned int Num)
{
	RastersStarts[Num] = ((unsigned int) OSGetTick()) | 1;
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */
_inline_ void GXI_EndRaster(unsigned int Num)
{
	Rasters[Num] += ((unsigned int) OSGetTick()) - RastersStarts[Num];
	RastersStarts[Num]--;
}

#else
#define GXI_BeginRaster(a)
#define GXI_EndRaster(a)
#endif

/*$4
 ***********************************************************************************************************************
 ***********************************************************************************************************************
 */

#ifdef __cplusplus
}
#endif
#endif /* GXI_BENCH_H */

