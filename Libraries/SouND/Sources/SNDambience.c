/*$T SNDambience.c GC! 1.097 08/31/01 12:13:24 */


/*$6
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 */

#include "Precomp.h"

/* sound module headers */
#include "SouND/Sources/SNDstruct.h"
#include "SouND/Sources/SND.h"
#include "SouND/Sources/SNDconst.h"
#include "SouND/Sources/SNDambience.h"
#include "SouND/Sources/SNDstream.h"
#include "SouND/Sources/SNDload.h"


/*
 =======================================================================================================================
 =======================================================================================================================
 */

LONG SND_l_AddAmbience(BIG_KEY _ul_WavKey)
{
	/*~~~~~~~~~~~~~~~~~~~~~~~~~~~*/
	LONG				l_Index;
	SND_tdst_OneSound	*pst_Sound;
	/*~~~~~~~~~~~~~~~~~~~~~~~~~~~*/

	l_Index = SND_l_AddSound(_ul_WavKey);
	SND_M_GetSoundOrReturn(l_Index, pst_Sound, -1);

    if(pst_Sound->ul_CptUsed == 1)
    {
        pst_Sound->ul_Flags |=  SND_Cul_SF_Ambience | SND_Cte_StreamedFile ;
        pst_Sound->pst_LI = &SND_gpst_Interface[IStream];		
    }	

	return l_Index;
}

/*
 =======================================================================================================================
 =======================================================================================================================
 */

/*$4
 ***********************************************************************************************************************
    EOF
 ***********************************************************************************************************************
 */

